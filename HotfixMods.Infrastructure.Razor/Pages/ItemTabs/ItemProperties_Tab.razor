@using HotfixMods.Core.Enums
@using HotfixMods.Core.Flags
@using HotfixMods.Infrastructure.DtoModels
@using HotfixMods.Infrastructure.Extensions
@using HotfixMods.Infrastructure.Razor.Components.Elements

<MudGrid>
    <MudItem xs="4" Class="@gridItemCssClass">
        <IntInput_Element Label="Icon Id" @bind-Value="Item.IconId" ValueLookup="@ItemLookup?.IconId" CssClass="@elementCssClass" />
        <IntInput_Element Label="Required Level" @bind-Value="Item.RequiredLevel" ValueLookup="@ItemLookup?.RequiredLevel" CssClass="@elementCssClass" />
        <IntInput_Element Label="Item Level" @bind-Value="Item.ItemLevel" ValueLookup="@ItemLookup?.ItemLevel" CssClass="@elementCssClass" />
        <SingleSelect_Element Label="Weapon Sheathe" @bind-Value="Item.SheatheType" ValueLookup="@ItemLookup?.SheatheType" CssClass="@elementCssClass" />

        @*TODO: Move somewhere else*@
        <MultiSelect_Element T="ItemDisplayInfoFlags" Label="Display Flags" @bind-Value="Item.ItemDisplayInfoFlags" ValueLookup="@ItemLookup?.ItemDisplayInfoFlags" CssClass="@elementCssClass" />
    </MudItem>
    <MudItem xs="4" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass">
        <SingleSelect_Element Label="Quality" T="OverallQualities?" @bind-Value="Item.OverallQuality" ValueLookup="ItemLookup?.OverallQuality" CssClass="@elementCssClass" />
        <SingleSelect_Element Label="Bonding" T="ItemBondings?" @bind-Value="Item.Bonding" ValueLookup="ItemLookup?.Bonding" CssClass="@elementCssClass" />
        <SingleSelect_Element Label="Race Restriction" T="ItemRaceFlags?" @bind-Value="Item.AllowableRaces" ValueLookup="ItemLookup?.AllowableRaces" CssClass="@elementCssClass" />
        <MultiSelect_Element Label="Class Restriction" T="ItemClassFlags" @bind-Value="@Item.AllowableClasses" ValueLookup="@ItemLookup?.AllowableClasses" CssClass="@elementCssClass" />
    </MudItem>
    <MudItem xs="3" Class="@gridItemCssClass" />
    <MudItem xs="6" Class="@gridItemCssClass">
        <TextInput_Element Label="Name" @bind-Value="Item.Name" ValueLookup="@ItemLookup?.Name" CssClass="@elementCssClass" Variant="Variant.Text" />
    </MudItem>
    <MudItem xs="3" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass">
        <TextInput_Element Label="Description" @bind-Value="Item.Description" ValueLookup="@ItemLookup?.Description" CssClass="@elementCssClass" Variant="Variant.Text" />
    </MudItem>
    <MudItem xs="4" Class="@gridItemCssClass" />
</MudGrid>


@code {
    [Parameter]
    public ItemDto Item { get; set; }

    [Parameter]
    public ItemDto? ItemLookup { get; set; }

    string elementCssClass = "pb-2 pt-2";
    string gridItemCssClass = "pb-0 pt-0";
}