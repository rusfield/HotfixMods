@using HotfixMods.Core.Enums
@using HotfixMods.Core.Flags
@using HotfixMods.Infrastructure.DtoModels
@using HotfixMods.Infrastructure.Extensions
@using HotfixMods.Infrastructure.Razor.Components.Elements

<MudGrid>
    <MudItem xs="4" Class="@gridItemCssClass">
        <IntInput_Element Label="Icon Id" @bind-Value="Item.IconId" ValueLookup="@ItemLookup?.IconId"/>
        <IntInput_Element Label="Required Level" @bind-Value="Item.RequiredLevel" ValueLookup="@ItemLookup?.RequiredLevel"/>
        <IntInput_Element Label="Item Level" @bind-Value="Item.ItemLevel" ValueLookup="@ItemLookup?.ItemLevel"/>
        <SingleSelect_Element Label="Weapon Sheathe" @bind-Value="Item.SheatheType" ValueLookup="@ItemLookup?.SheatheType"/>

        @*TODO: Move somewhere else*@
        <MultiSelect_Element T="ItemDisplayInfoFlags" Label="Display Flags" @bind-Value="Item.ItemDisplayInfoFlags" ValueLookup="@ItemLookup?.ItemDisplayInfoFlags"/>
    </MudItem>
    <MudItem xs="4" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass">
        <SingleSelect_Element Label="Quality" T="OverallQualities?" @bind-Value="Item.OverallQuality" ValueLookup="ItemLookup?.OverallQuality"/>
        <SingleSelect_Element Label="Bonding" T="ItemBondings?" @bind-Value="Item.Bonding" ValueLookup="ItemLookup?.Bonding"/>
        <SingleSelect_Element Label="Race Restriction" T="ItemRaceFlags?" @bind-Value="Item.AllowableRaces" ValueLookup="ItemLookup?.AllowableRaces"/>
        <MultiSelect_Element Label="Class Restriction" T="ItemClassFlags" @bind-Value="@Item.AllowableClasses" ValueLookup="@ItemLookup?.AllowableClasses"/>
    </MudItem>
    <MudItem xs="3" Class="@gridItemCssClass" />
    <MudItem xs="6" Class="@gridItemCssClass">
        <TextInput_Element Label="Name" @bind-Value="Item.Name" ValueLookup="@ItemLookup?.Name"Variant="Variant.Text" />
    </MudItem>
    <MudItem xs="3" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass" />
    <MudItem xs="4" Class="@gridItemCssClass">
        <TextInput_Element Label="Description" @bind-Value="Item.Description" ValueLookup="@ItemLookup?.Description"Variant="Variant.Text" />
    </MudItem>
    <MudItem xs="4" Class="@gridItemCssClass" />
</MudGrid>


@code {
    [Parameter]
    public ItemDto Item { get; set; }

    [Parameter]
    public ItemDto? ItemLookup { get; set; }

    
    string gridItemCssClass = "pb-0 pt-0";
}