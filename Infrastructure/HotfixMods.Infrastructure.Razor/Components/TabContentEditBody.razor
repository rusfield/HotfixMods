<div style="@($"position:absolute; top:{(contentHeight / 2) - 60}px; left:calc(100%)")">
    <MudIconButton Icon="@Icons.Filled.NavigateNext" Color="Color.Primary" OnClick="@(() => Navigate(CurrentSlideIndex + 1))" Class="@("custom-slide-navigator" + (CurrentSlideIndex < slides ? "" : " invisible"))" />
</div>
<div style="@($"position:absolute; top:{(contentHeight / 2) - 60}px;left:-120px")">
    <MudIconButton Icon="@Icons.Filled.NavigateBefore" Color="Color.Primary" OnClick="@(() => Navigate(CurrentSlideIndex - 1))" Class="@("custom-slide-navigator " + (CurrentSlideIndex > 0 ? "" : " invisible"))" />
</div>
<MudPaper Height=@($"{contentHeight}px") Class="px-5 pb-5 pt-8 z-30 mx-3 rounded-0" Style="@GetContentStyle()">
    <CascadingValue Value="@this">
        <MudCarousel @ref="mudCarouselRef" TData="object" ShowBullets="false" AutoCycle="false" ShowArrows="false" Style="height:100%">
            @ChildContent
        </MudCarousel>
    </CascadingValue>
</MudPaper>



@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    MudCarousel<object>? mudCarouselRef;

    public int CurrentSlideIndex { get; set; }
    int contentHeight = 650;
    int slides = 0;

    public void SetSlidesIndex(int amount)
    {
        slides = amount;
        this.StateHasChanged();
    }

    void Navigate(int index)
    {
        if (index >= 0 && index <= slides)
        {
            CurrentSlideIndex = index;
            mudCarouselRef?.MoveTo(CurrentSlideIndex);
        }
    }

    string GetContentStyle()
    {
        // Add elevation value 2
        var elevation = "box-shadow:var(--mud-elevation-2)";

        if (CurrentSlideIndex < slides)
            elevation += ",2px 0px 2px 1px var(--mud-palette-primary)";
        else
            elevation += ",0px 0px 0px 0px var(--mud-palette-primary)";

        if (CurrentSlideIndex > 0)
            elevation += ",-2px 0px 2px 1px var(--mud-palette-primary)";
        else
            elevation += ",0px 0px 0px 0px var(--mud-palette-primary)";

        return $"background-color:var(--mud-palette-surface);{elevation};";
    }
}