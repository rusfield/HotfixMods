<MudBadge Icon="@Icons.Material.Filled.Close" Color="Color.Primary" Overlap="true" OnClick="(() => MudDialogInstance.Cancel())" Style="cursor:pointer">
    <MudDialog>
        <DialogContent>
            <Loader @ref="loaderRef" />
            @if (loaderRef != null && !loaderRef.IsLoading)
            {
                <MudStack Style="max-height: 600px; overflow-y: scroll">
                    @if (GetById_Callback != null)
                    {
                        <MudText Typo="Typo.h6" Align="Align.Center">Search by ID:</MudText>
                        <MudButton Variant="Variant.Outlined" Color="Color.Primary" OnClick="GetById_Callback">New</MudButton>
                    }

                    @ChildContent

                    @if (GetNew_Callback != null)
                    {
                        <MudText Typo="Typo.h6" Align="Align.Center">Start from scratch:</MudText>
                        <MudButton Variant="Variant.Outlined" Color="Color.Primary" OnClick="GetNew_Callback">New</MudButton>
                    }
                </MudStack>
            }
        </DialogContent>

    </MudDialog>
</MudBadge>


@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public MudDialogInstance MudDialogInstance { get; set; }

    [Parameter]
    public Action? GetById_Callback { get; set; }

    [Parameter]
    public Action? GetNew_Callback { get; set; }

    Loader? loaderRef = new Loader();
}
